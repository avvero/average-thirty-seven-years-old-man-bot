<html>
<head>
    <title>Statistics</title>
</head>
<body>
<h2>Statistics</h2>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const statistics = {
        "userStatistics": {
            "": {"messageCounter": 29},
            "AnimeAnimeAnime123": {"messageCounter": 8},
            "Gilmar_RU": {"messageCounter": 2533},
            "GroupAnonymousBot": {"messageCounter": 2},
            "ILiaDan": {"messageCounter": 3838},
            "M1ha1l999": {"messageCounter": 18},
            "MathJay": {"messageCounter": 1920},
            "Psikey": {"messageCounter": 1},
            "Shilnikov Sergei": {"messageCounter": 443},
            "Volodina Julia": {"messageCounter": 183},
            "advocemme": {"messageCounter": 436},
            "avveroll": {"messageCounter": 8380},
            "bot": {"messageCounter": 922},
            "exndiver": {"messageCounter": 52},
            "frodonew": {"messageCounter": 5465},
            "justFirst": {"messageCounter": 288},
            "saintnk": {"messageCounter": 7996},
            "sergiopsh": {"messageCounter": 7},
            "svg1007": {"messageCounter": 5294},
            "vladixoxo": {"messageCounter": 967},
            "wishpering": {"messageCounter": 811},
            "Сторожев Сергей": {"messageCounter": 367}
        },
        "dailyStatistics": {
            "2022-09-14": {"messageCounter": 101},
            "2022-09-15": {"messageCounter": 849},
            "2022-09-16": {"messageCounter": 681},
            "2022-09-17": {"messageCounter": 334},
            "2022-09-18": {"messageCounter": 256},
            "2022-09-19": {"messageCounter": 942},
            "2022-09-20": {"messageCounter": 926},
            "2022-09-21": {"messageCounter": 687},
            "2022-09-22": {"messageCounter": 535},
            "2022-09-23": {"messageCounter": 517},
            "2022-09-24": {"messageCounter": 165},
            "2022-09-25": {"messageCounter": 328},
            "2022-09-26": {"messageCounter": 523},
            "2022-09-27": {"messageCounter": 467},
            "2022-09-28": {"messageCounter": 530},
            "2022-09-29": {"messageCounter": 472},
            "2022-09-30": {"messageCounter": 848},
            "2022-10-01": {"messageCounter": 191},
            "2022-10-02": {"messageCounter": 479},
            "2022-10-03": {"messageCounter": 371},
            "2022-10-04": {"messageCounter": 515},
            "2022-10-05": {"messageCounter": 346},
            "2022-10-06": {"messageCounter": 640},
            "2022-10-07": {"messageCounter": 950},
            "2022-10-08": {"messageCounter": 360},
            "2022-10-09": {"messageCounter": 307},
            "2022-10-10": {"messageCounter": 517},
            "2022-10-11": {"messageCounter": 886},
            "2022-10-12": {"messageCounter": 599},
            "2022-10-13": {"messageCounter": 1067},
            "2022-10-14": {"messageCounter": 875},
            "2022-10-15": {"messageCounter": 194},
            "2022-10-16": {"messageCounter": 119},
            "2022-10-17": {"messageCounter": 646},
            "2022-10-18": {"messageCounter": 1003},
            "2022-10-19": {"messageCounter": 755},
            "2022-10-20": {"messageCounter": 412},
            "2022-10-21": {"messageCounter": 411},
            "2022-10-22": {"messageCounter": 131},
            "2022-10-23": {"messageCounter": 106},
            "2022-10-24": {"messageCounter": 822},
            "2022-10-25": {"messageCounter": 495},
            "2022-10-26": {"messageCounter": 792},
            "2022-10-27": {"messageCounter": 653},
            "2022-10-28": {"messageCounter": 549},
            "2022-10-29": {"messageCounter": 221},
            "2022-10-30": {"messageCounter": 228},
            "2022-10-31": {"messageCounter": 483},
            "2022-11-01": {"messageCounter": 495},
            "2022-11-02": {"messageCounter": 488},
            "2022-11-03": {"messageCounter": 480},
            "2022-11-04": {"messageCounter": 164},
            "2022-11-05": {"messageCounter": 131},
            "2022-11-06": {"messageCounter": 122},
            "2022-11-07": {"messageCounter": 402},
            "2022-11-08": {"messageCounter": 495},
            "2022-11-09": {"messageCounter": 586},
            "2022-11-10": {"messageCounter": 602},
            "2022-11-11": {"messageCounter": 731},
            "2022-11-12": {"messageCounter": 256},
            "2022-11-13": {"messageCounter": 334},
            "2022-11-14": {"messageCounter": 1221},
            "2022-11-15": {"messageCounter": 125}
        }
    }
    // userStatisticsData
    let userStatisticsData = {
        labels: [],
        datasets: [{
            label: '# messages',
            data: [],
            borderWidth: 1
        }]
    }
    for (const [key, value] of Object.entries(statistics["userStatistics"])) {
        userStatisticsData.labels.push(key)
        userStatisticsData.datasets[0].data.push(value.messageCounter)
    }
    // dailyStatisticsData
    let dailyStatisticsData = {
        labels: [],
        datasets: [{
            label: '# messages',
            data: [],
            borderWidth: 1
        }]
    }
    for (const [key, value] of Object.entries(statistics["dailyStatistics"])) {
        dailyStatisticsData.labels.push(key)
        dailyStatisticsData.datasets[0].data.push(value.messageCounter)
    }
</script>

<h3>User statistics</h3>
<div style="width: 1000px">
    <canvas id="userStatisticsData"></canvas>
</div>
<script>
    new Chart(document.getElementById('userStatisticsData'), {
        type: 'bar',
        data: userStatisticsData,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

<h3>Daily statistics</h3>
<div style="width: 1000px">
    <canvas id="dailyStatistics"></canvas>
</div>
<script>
    new Chart(document.getElementById('dailyStatistics'), {
        type: 'bar',
        data: dailyStatisticsData,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>

</body>
</html>